(function(g){function d(b){return j.createElement(b)}function s(b){var a={},c;c=function(a){return b.getAttribute(a)};var f;for(f=0;f<t.length;f++)a[t[f]]=c(t[f]);return a}function v(b){!0==b?(this.readonly=!0,this.element.readonly=!0,this.element.setAttribute("readonly","readonly")):!1==b&&(this.readonly=!1,this.element.readonly=!1,this.element.removeAttribute("readonly"))}var h=g.interact,j=g.document,B=g.console,w=g.Element,x=g.HTMLElement,y=g.SVGElement,t="min max step length readonly orientation value list handle-ratio".split(" "),
n=[],C=[],p=[],i,q=[],r=[];i={add:function(b,a,c,f){if(b instanceof g.Element||b===g.document){var e=r[q.indexOf(b)];e||(e={events:{}},e.events[a]=[],q.push(b),r.push(e));"array"!==typeof e.events[a]&&(e.events[a]=[]);e.events[a].push(c);return b.addEventListener(a,c,f||!1)}},remove:function(b,a,c,f){var e,d=r(q.indexOf(b));if(-1!==index&&d&&d.events&&d.events[a])if("all"===c)for(e=0;e<d.events[a].length;e++)b[removeEvent](a,d.events[a][e],f||!1),d.events[a].splice(e,1);else for(e=0;e<d.events[a].length;e++)d.events[a][e]===
c&&(b[removeEvent](a,d.events[a][e],f||!1),d.events[a].splice(e,1))},removeAll:function(b){var a,b=r(q.indexOf(b));for(a in b.events)b.events.hasOwnProperty(a)&&i.remove(b,a,"all")}};var z=[];i.add(j,"DOMContentLoaded",function(b){for(var a=j.body.querySelectorAll("*"),c=0,c=0;c<z.length;c++)z[c](b);for(c=0;c<a.length;c++){var d;"true"===a[c].getAttribute("i-slider")?d=new h.Slider(a[c]):"true"===a[c].getAttribute("i-toggle")?d=new h.Toggle(a[c]):"true"===a[c].getAttribute("i-color-picker")&&(d=new h.ColorPicker(a[c]));
if(d){var b=d.element.getAttribute("onchange"),e;if(b&&!d.element.onchange)try{e=Function(b),d.element.onchange=e}catch(g){B.log(g)}}}});h.ui={make:d,makeNs:function(b){return j.createElementNS("http://www.w3.org/2000/svg",b)}};var l=function(b,a){b||(b=d("div"),b.setAttribute("i-slider","true"));b.setAttribute("i-slider","true");b instanceof w&&(a=a||s(b),this.step=Number(a.step)||10,this.min=Number(a.min)||0,this.max=Number(a.max)||this.min+10*this.step,this.value=Number(a.value)||0,this.value=
this.value<this.min?this.value=this.min:this.value>this.max?this.max:this.value,this.orientation="vertical"==a.orientation||"horizontal"===a.orientation?a.orientation:"horizontal",this.readonly=!0==a.readonly,b instanceof x?(this.element=b,this.container=d("div"),this.bar=d("div"),this.handle=d("div"),"vertical"===this.orientation?this.element.classList.add("i-vertical"):this.element.classList.add("i-horizontal")):b instanceof y&&(this.element=b,this.container=d("g"),this.background=d("rect"),this.bar=
d("rect"),this.handle=d("rect"),this.background.classList.add("i-background"),this.container.appendChild(this.background)),this.set(this.value),this.setReadonly(this.readonly),this.element.classList.add("i-slider"),this.container.classList.add("i-container"),this.bar.classList.add("i-bar"),this.handle.classList.add("i-handle"),this.container.appendChild(this.bar),this.container.appendChild(this.handle),this.element.appendChild(this.container),this.interactable=h.set(this.handle,l.interactOptions),
i.add(this.element,"interactdragmove",D),n.push(this))},A=function(b){var a;for(a=0;a<n.length;a++)if(n[a].handle===b)return n[a];return null},D=function(b){var a=A(b.target),c="horizontal"===a.orientation,d=a.length(),c=(c?b.detail.pageX-a.container.offsetLeft:b.detail.pageY-a.container.offsetTop)*(a.max-a.min)/d+a.min,d=c%a.step||0,c=a.step*Math.floor(c/a.step);d>a.step/2&&(c+=a.step);c=c<a.min?a.min:c>a.max?a.max:c;a.set(c);b.stopPropagation()};"use script";l.interactOptions={drag:!0,autoScroll:!1,
actionChecker:function(b){b.preventDefault();var b=A(b.target),a=null!==b.element.getAttribute("readonly");a!==b.readonly?b.setReadonly(a):b.element.readonly!==b.readonly&&b.setReadonly(!0===b.element.readonly);if(!b.readonly&&null===b.element.getAttribute("disabled"))return"drag"},checkOnHover:!1};l.handleSize=20;l.prototype={set:function(b){var a=100*(b-this.min)/(this.max-this.min);"horizontal"===this.orientation?this.handle.style.left=a+"%":this.handle.style.top=a+"%";b!==this.value&&(a=j.createEvent("Event"),
this.element.value=this.value=b,this.element.setAttribute("value",this.value),this.handle.setAttribute("value",this.value),a.initEvent("change",!0,!0),this.element.dispatchEvent(a))},length:function(){return"horizontal"===this.orientation?this.container.offsetWidth:this.container.offsetHeight},setReadonly:v};h.Slider=l;var k=function(b,a){b||(b=d("div"),b.setAttribute("i-toggle","true"));b.setAttribute("i-toggle","true");b instanceof w&&(a=a||s(b),this.value=!0==a.value?1:0,this.orientation="vertical"==
a.orientation||"horizontal"===a.orientation?a.orientation:"horizontal",this.length=Number(a.length)||80,this.handleRatio=a["handle-ratio"]||k.handleRatio,b instanceof x?(this.element=b,this.container=d("div"),this.bar=d("div"),this.handle=d("div"),"vertical"===this.orientation?(this.element.style.height=this.length+"px",this.element.classList.add("i-vertical"),this.handle.style.height=this.length*this.handleRatio+"px"):(this.element.style.width=this.length+"px",this.element.classList.add("i-horizontal"),
this.handle.style.width=this.length*this.handleRatio+"px")):b instanceof y&&(this.element=b,this.container=d("g"),this.bar=d("rect"),this.handle=d("rect"),this.container.appendChild(this.background)),this.set(this.value),i.add(this.element,"click",E),this.element.classList.add("i-toggle"),this.container.classList.add("i-container"),this.bar.classList.add("i-bar"),this.handle.classList.add("i-handle"),this.container.appendChild(this.bar),this.container.appendChild(this.handle),this.element.appendChild(this.container),
this.interactable=h.set(this.handle,k.interactOptions),i.add(this.element,"interactdragmove",F),C.push(this))},F=function(b){var a=getToggleFromHandle(b.target),c=a.element.offsetTop,d=a.element.offsetLeft,e=a.length,c="horizontal"===a.orientation?b.detail.pageX-d:b.detail.pageY-c;a.set(c<0.3*e?0:c>0.6*e?1:a.value);b.stopPropagation()},E=function(){var b=getToggleFromElement(this);b.set(!b.value)};"use script";k.interactOptions={drag:!0,autoScroll:!1,actionChecker:function(b){b.preventDefault();var b=
getToggleFromHandle(b.target),a=null!==b.element.getAttribute("readonly");a!==b.readonly?b.setReadonly(a):b.element.readonly!==b.readonly&&b.setReadonly(b.element.readonly);if(!b.readonly&&null===b.element.getAttribute("disabled"))return"drag"},checkOnHover:!1};k.handleRatio=0.6;k.prototype={set:function(b){b=!0==b?1:0;"horizontal"===this.orientation?0===b?(this.handle.style.left=0,this.handle.style.right=""):(this.handle.style.left="",this.handle.style.right=-(this.length*(1-this.handleRatio)-6)+
"px"):0===b?(this.handle.style.top=0,this.handle.style.bottom=""):(this.handle.style.top="",this.handle.style.bottom=-(this.length*(1-this.handleRatio)-6)+"px");if(b!==this.value){var a=j.createEvent("Event");this.element.value=this.value=b;this.element.setAttribute("value",this.value);this.handle.setAttribute("value",this.value);a.initEvent("change",!0,!0);this.element.dispatchEvent(a)}},setReadonly:v};h.Toggle=k;var m=function(b,a){a||s(b);var c=d("div"),f=d("div"),e=d("div");c.classList.add("red");
f.classList.add("green");e.classList.add("blue");this.element=b;this.red=new u(c,m.rgbSliderOptions);this.green=new u(f,m.rgbSliderOptions);this.blue=new u(e,m.rgbSliderOptions);this.display=d("div");this.display.classList.add("display");this.display.style.width="100px";this.display.style.height="100px";i.add(b,"change",G);b.appendChild(this.display);b.appendChild(c);b.appendChild(f);b.appendChild(e);p.push(this)},G=function(b){var a;a:{for(a=0;a<p.length;a++)if(p[a].element===this){a=p[a];break a}a=
-1}var c;c=["rgb(",a.red.value,",",a.green.value,",",a.blue.value,")"].join(" ");a.value!==c&&(a.value=c,a.display.style.backgroundColor=a.value);b.stopPropagation()};"use script";var u=h.Slider;m.rgbSliderOptions={max:255,step:1,value:125,width:100};h.ColorPicker=m})(window);
