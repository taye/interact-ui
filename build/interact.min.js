(function(f){function U(a){var b,k,d;b=D(a,"page");var n=b.x-f.scrollX,c=b.y-f.scrollY;b=e._element instanceof K?e._element.getBoundingClientRect():e._element.getClientRects()[0];s.resize&&e._resize&&(k=n-b.left>b.width-L,d=c-b.top>b.height-L);a=s.gesture&&a.touches&&1<a.touches.length&&!q&&!r?"gesture":(x=(k?"x":"")+(d?"y":""))?"resize"+x:s.drag?"drag":null;return a}function D(a,b){var k,d,b=b||"page";a.touches?(k=a.touches.length?a.touches[0]:a.changedTouches[0],d=k[b+"X"],k=k[b+"Y"]):(d=a[b+"X"],
k=a[b+"Y"]);"Opera"==navigator.appName&&E&&(d-=f.scrollX,k-=f.scrollY);return{x:d,y:k}}function V(a){for(var b=a.touches,k=0,d=0,c=0,e=0,a=0;a<b.length;a++)k+=b[a].pageX/b.length,d+=b[a].pageY/b.length,c+=b[a].clientX/b.length,e+=b[a].clientY/b.length;return{pageX:k,pageY:d,clientX:c,clientY:e}}function t(a,b,k){var d,c;"gesture"===b?(d=V(a),c={x:d.pageX,y:d.pageY},d={x:d.clientX,y:d.clientY}):(d=D(a,"client"),c=D(a,"page"));d={x0:F,y0:G,clientX0:W,clientY0:X,pageX:c.x,pageY:c.y,clientX:d.x,clientY:d.y,
ctrlKey:a.ctrlKey,altKey:a.altKey,shiftKey:a.shiftKey,metaKey:a.metaKey,button:a.button};"start"===k||"end"===k?(d.dx=c.x-F,d.dy=c.y-G):(d.dx=c.x-y,d.dy=c.y-z);if("resize"===b)e._squareResize||a.shiftKey?("y"===x?d.dx=d.dy:d.dy=d.dx,d.axes="xy"):(d.axes=x,"x"===x?d.dy=0:"y"===x&&(d.dx=0));else if("gesture"===b){d.touches=a.touches;b=a.touches[0].pageX;c=a.touches[0].pageY;"touchend"===a.type&&1===a.touches.length?(b-=a.changedTouches[0].pageX,c-=a.changedTouches[0].pageY):(b-=a.touches[1].pageX,c-=
a.touches[1].pageY);b=Math.sqrt(b*b+c*c);d.distance=b;if(a.touches.length){c=a.touches;for(var g=a.touches[0].pageX,f=a.touches[0].pageY,j=g,h=f,b=0;b<c.length;b++)g=Math.max(g,a.touches[b].pageX),f=Math.max(f,a.touches[b].pageY);b={left:g,top:f,width:j-g,height:h-f}}else b=void 0;d.box=b;b=a.touches[0].pageX;c=a.touches[0].pageY;"touchend"===a.type&&1===a.touches.length?(b-=a.changedTouches[0].pageX,c-=a.changedTouches[0].pageY):(b-=a.touches[1].pageX,c-=a.touches[1].pageY);a=180*-Math.atan(c/b)/
Math.PI;d.angle=a;"start"===k?(d.scale=1,d.ds=0,d.rotation=0):(d.scale=d.distance/m.startDistance,"end"===k?(d.rotation=d.angle-m.startAngle,d.ds=d.scale-1):(d.rotation=d.angle-m.prevAngle,d.ds=d.scale-m.prevScale))}return d}function Y(a){var b;if(!a||!(b=a.match("resize")?"resize":a)||!e["_"+b]||!s[b])return null;if("resize"===a||"resizexy"===a||"resizeyx"===a)a="resizexy";return a}function O(a,b){var c="",d;a.touches?(d=V(a),c={x:d.pageX,y:d.pageY},d={x:d.clientX,y:d.clientY}):(c=D(a,"page"),d=
D(a,"client"));if(a.touches&&2>a.touches.length&&!e||!A)e=l.get(this);A=!0;if(e&&!q&&!r&&!u){F=y=c.x;G=z=c.y;W=d.x;X=d.y;c=Y(b||e._getAction(a));if(!c)return a;B&&(g.documentElement.style.cursor=e._element.style.cursor=C[c].cursor);x="resizexy"===c?"xy":"resizex"===c?"x":"resizey"===c?"y":"";H=c in C?c:null;a.preventDefault()}}function Z(a){a.preventDefault();var b;q?(a=t(a,"drag","move"),b=g.createEvent("CustomEvent"),b.initCustomEvent("interactdragmove",!0,!0,a),e._element.dispatchEvent(b)):(a=
t(a,"drag","start"),b=g.createEvent("CustomEvent"),b.initCustomEvent("interactdragstart",!0,!0,a),e._element.dispatchEvent(b),q=!0);y=a.pageX;z=a.pageY}function M(a){a.preventDefault();var b;r?(a=t(a,"resize","move"),b=g.createEvent("CustomEvent"),b.initCustomEvent("interactresizemove",!0,!0,a),e._element.dispatchEvent(b)):(a=t(a,"resize","start"),b=g.createEvent("CustomEvent"),b.initCustomEvent("interactresizestart",!0,!0,a),e._element.dispatchEvent(b),r=!0);y=a.pageX;z=a.pageY}function $(a){if(!(2>
a.touches.length)){a.preventDefault();var b;u?(a=t(a,"gesture","move"),a.ds=a.scale-m.scale,b=g.createEvent("CustomEvent"),b.initCustomEvent("interactgesturemove",!0,!0,a),e._element.dispatchEvent(b)):(a=t(a,"gesture","start"),a.ds=0,m.startDistance=a.distance,m.startAngle=a.angle,m.scale=1,b=g.createEvent("CustomEvent"),b.initCustomEvent("interactgesturestart",!0,!0,a),e._element.dispatchEvent(b),u=!0);y=a.pageX;z=a.pageY;m.prevAngle=a.angle;m.prevDistance=a.distance;Infinity!==a.scale&&(null!==
a.scale&&void 0!==a.scale&&!isNaN(a.scale))&&(m.scale=a.scale)}}function aa(a){if(!A&&(!q&&!r&&!u)&&(e=l.get(a.target)||l.get(a.target.parentNode)))(e._resize||e._drag)&&e._checkOnHover?(a=Y(e._getAction(a)),B&&(e._element.style.cursor=a?C[a].cursor:"")):(q||r||u)&&a.preventDefault()}function N(a){var b,c,d;if(q){c=g.createEvent("CustomEvent");b=t(a,"drag","end");if(p.length){var n,f=[];for(n=0;n<p.length;n++)p[n].dropCheck(a)&&f.push(p[n]);if(f.length){var h=f[0],j,l=[],i=[],m;for(m=1;m<f.length;m++){n=
f[m];if(!l.length)for(j=h._element;j.parentNode!==g;)l.unshift(j),j=j.parentNode;if(h._element instanceof ca&&n._element instanceof K&&!(n._element instanceof da)){if(n._element.ownerSVGElement.parentNode===h._element.parentNode)continue;j=n._element.ownerSVGElement}else j=n._element;for(i=[];j.parentNode!==g;)i.unshift(j),j=j.parentNode;for(j=0;i[j]&&i[j]===l[j];)j++;j=[i[j-1],i[j],l[j]];for(i=j[0].lastChild;i;){if(i===j[1]){h=n;l=[];break}else if(i===j[2])break;i=i.previousSibling}}f=h}else f=void 0;
if(I=f)b.dropzone=I._element,d=g.createEvent("CustomEvent"),d.initCustomEvent("interactdrop",!0,!0,b)}c.initCustomEvent("interactdragend",!0,!0,b);e._element.dispatchEvent(c);I&&e._element.dispatchEvent(d)}else r?(c=g.createEvent("CustomEvent"),b=t(a,"resize","start"),c.initCustomEvent("interactresizeend",!0,!0,b),e._element.dispatchEvent(c)):u&&(c=g.createEvent("CustomEvent"),b=t(a,"gesture","end"),b.ds=b.scale,c.initCustomEvent("interactgestureend",!0,!0,b),e._element.dispatchEvent(c));A=q=r=u=
!1;e&&(B&&(g.documentElement.style.cursor="",e._element.style.cursor=""),a.preventDefault(),e&&P(e._element,"interact-dragging interact-resizing interact-gesturing"),I&&P(e._element,"interact-droptarget"),e=I=null);H=null;return a}function ba(a,b){var c;if(!a.classList)return!1;b=b.split(" ");for(c=0;c<b.length;c++)""!==b[c]&&a.classList.add(b[c])}function P(a,b){var c;if(!a.classList)return!1;b=b.split(" ");for(c=0;c<b.length;c++)""!==b[c]&&a.classList.remove(b[c])}function h(a){"string"===typeof a&&
(a=g.getElementById(a));return l.get(a)}function Q(a,b){"object"!==typeof b&&(b={});this._element=a;this._drag="drag"in b?b.drag:!1;this._dropzone="dropzone"in b?b.dropzone:!1;this._resize="resize"in b?b.resize:!1;this._gesture="gesture"in b?b.gesture:!1;this._squareResize="squareResize"in b?b.squareResize:!1;this._autoScroll="autoScroll"in b?b.autoScroll:!0;this._getAction="function"===typeof b.actionChecker?b.actionChecker:U;this._checkOnHover="autoScroll"in b?b.checkOnHover:!0;i.add(this,J,aa);
i.add(this,R,O,!1);l.push(this);this._index=l.length-1;this._dropzoneIndex=-1;this._dropzone&&(p.push(this),this._dropzoneIndex=p.length-1);ba(a,["interactable",this._drag?"interact-draggable":"",this._dropzone?"interact-dropzone":"",this._resize?"interact-resizeable":"",this._gesture?"interact-gestureable":""].join(" "))}var g=f.document,v=f.console,K=f.SVGElement,da=f.SVGSVGElement,ca=f.HTMLElement,y=0,z=0,F=0,G=0,W=0,X=0,m={start:{x:0,y:0},startDistance:0,prevDistance:0,distance:0,scale:1,startAngle:0,
prevAngle:0},l=[],p=[],e=null,I=null,c={isEnabled:!0,margin:70,distance:10,interval:20,x:0,y:0,autoScroll:function(){f.scrollBy(c.x,c.y)},i:null,edgeContainer:{_element:g.createElement("div"),events:{}},edges:{top:{_element:g.createElement("div"),events:{},style:["top: 0px;left: 0px;","width: "+5*f.screen.width+"px !important;","height: 70px !important;"].join(""),y:-1},right:{_element:g.createElement("div"),events:{},style:["top: 0px;right: 0px;width: 70px !important;","height: "+4*f.screen.height+
"px !important;"].join(""),x:1},bottom:{_element:g.createElement("div"),events:{},style:["bottom: 0px;left: 0px;","width: "+4*f.screen.width+"px !important;","height: 70px !important;"].join(""),y:1},left:{_element:g.createElement("div"),events:{},style:["top: 0px;left: 0px;width: 70px !important;","height: "+4*f.screen.height+"px !important;"].join(""),x:-1}},edgeStyle:"#edge-container {\n    width: 0;\n    height: 0;\n    margin: 0;\n    padding: 0;\n    border: none;\n}\n.interact-edge {\n   position: fixed !important;\n   background-color: transparent !important;\n   z-index: 9000 !important;\n   margin: 0px !important;\n   padding: 0px !important;\n   border: none 0 !important;\n   display: none\n}\n.interact-edge.show{\n   display: block !important;\n}",
edgeMove:function(a){if(q||r){var b=a.clientY<c.edges.bottom._element.offsetHeight,k=a.clientY>c.edges.bottom._element.offsetTop,d=a.clientX<c.edges.left._element.offsetWidth;c.x=c.distance*(a.clientX>c.edges.right._element.offsetLeft?1:d?-1:0);c.y=c.distance*(k?1:b?-1:0);!c.isScrolling&&(c.isEnabled&&e._autoScroll)&&c.start()}},edgeOut:function(a){c.edgeMove(a);!c.x&&!c.y&&c.stop()},showEdges:function(){for(var a in c.edges)c.edges.hasOwnProperty(a)&&c.edges[a]._element.classList.add("show");c.edgesAreHidden=
!1},hideEdges:function(){c.stop();for(var a in c.edges)c.edges.hasOwnProperty(a)&&c.edges[a]._element.classList.remove("show");c.edgesAreHidden=!0},addEdges:function(){var a;a=g.createElement("style");a.type="text/css";a.innerHTML=c.edgeStyle;c.edgeContainer._element.appendChild(a);for(var b in c.edges)c.edges.hasOwnProperty(b)&&(a=c.edges[b],c.edges[b]._element.style.cssText=c.edges[b].style,c.edges[b]._element.classList.add("interact-edge"),c.edgeContainer._element.appendChild(a._element),a._element.x=
a.x,a._element.y=a.y);c.edgeContainer._element.id="edge-container";g.body.appendChild(c.edgeContainer._element);i.add(c.edgeContainer,J,c.edgeMove);i.add(c.edgeContainer,S,c.edgeOut)},edgesAreHidden:!0,isScrolling:!1,start:function(){c.isScrolling=!0;f.clearInterval(c.i);c.i=f.setInterval(c.autoScroll,c.interval)},stop:function(){f.clearInterval(c.i);c.x=c.y=0;c.isScrolling=!1}},E="createTouch"in g,L=E?20:10,A=!1,u=!1,q=!1,r=!1,x="xy",C={},s={drag:!0,resize:!0,gesture:!0},H=null,B=!0,R,T,J,S,w={_element:g,
events:{}},ea={_element:f,events:{}},i={add:function(a,b,c,d){"object"!==typeof a.events&&(a.events={});"array"!==typeof a.events[b]&&(a.events[b]=[]);a.events[b].push(c);return a._element.addEventListener(b,c,d||!1)},remove:function(a,b,c,d){var e;if(a&&a.events&&a.events[b])if("all"===c)for(e=0;e<a.events[b].length;e++)a._element.removeEventListener(b,a.events[b][e],d||!1),a.events[b].splice(e,1);else for(e=0;e<a.events[b].length;e++)a.events[b][e]===c&&(a._element.removeEventListener(b,a.events[b][e],
d||!1),a.events[b].splice(e,1))},removeAll:function(a){for(var b in a.events)a.events.hasOwnProperty(b)&&i.remove(a,b,"all")}};E?(R="touchstart",T="touchend",J="touchmove",S="touchout"):(R="mousedown",T="mouseup",J="mousemove",S="mouseout");C={drag:{cursor:"move",className:"interact-dragging",moveListener:Z},resizex:{cursor:"e-resize",className:"interact-resizing",moveListener:M},resizey:{cursor:"s-resize",className:"interact-resizing",moveListener:M},resizexy:{cursor:"se-resize",className:"interact-resizing",
moveListener:M},gesture:{cursor:"",className:"interact-gesturing",moveListener:$}};l.indexOf=p.indexOf=function(a){var b;for(b=0;b<this.length;b++)if(this[b]._element===a)return b;return-1};l.get=p.get=function(a){a=this.indexOf(a);return l[a]};Q.prototype={draggable:function(a){return null!==a&&void 0!==a?(this._drag=a,this):this._drag},dropzone:function(a){return null!==a&&void 0!==a?(this._dropzone!==a&&(a?(p.push(this),this._dropzoneIndex=p.length-1):(p.splice(this._dropzoneIndex,1),this._dropzoneIndex=
-1)),this._dropzone=a,this):this._dropzone},dropCheck:function(a){if(e!==this){var b=this._element instanceof K?this._element.getBoundingClientRect():this._element.getClientRects()[0],c=D(a,"page"),a=c.x-f.scrollX,c=c.y-f.scrollY,a=a>b.left&&a<b.left+b.width,b=c>b.top&&c<b.top+b.height;return a&&b}},dropChecker:function(a){return"function"===typeof a?(this.dropChecker=a,this):this.dropChecker},resizeable:function(a){return null!==a&&void 0!==a?(this._resize=a,this):this._resize},squareResize:function(a){return null!==
a&&void 0!==a?(this._drag=a,this):this._squareResize},gestureable:function(a){return null!==a&&void 0!==a?(this._gesture=a,this):this._gesture},autoScroll:function(a){return null!==a&&void 0!==a?(this._autoScroll=a,this):this._autoScroll},actionChecker:function(a){return"function"===typeof a?(this._getAction=a,this):this._getAction},checkOnHover:function(a){return null!==a&&void 0!==a?(this._checkOnHover=a,this):this._checkOnHover},element:function(){return this._element},unset:function(){i.removeAll(this);
B&&(this._element.style.cursor="");l.splice(this._index,1);-1!==this._dropzoneIndex&&p.splice(this._dropzoneIndex,1);P(this._element,"interactable interact-draggable interact-dragging interact-dropzone interact-resizeable interact-resizeing interact-gestureable interact-gesturing");return h}};h.set=function(a,b){var c=l.get(a);c&&(l.splice(c._index,1),-1!==c._dropzoneIndex&&p.splice(c._dropzoneIndex,1));return new Q(a,b)};h.isSet=function(a){return l.indexOf(-1!==a)};h.simulate=function(a,b,c){var d=
{},f;"resize"===a&&(a="resizexy");if(!(a in C))return h;if(c)for(f in c)c.hasOwnProperty(f)&&(d[f]=c[f]);else c=e._element instanceof K?b.getBoundingClientRect():c=b.getClientRects()[0],"drag"===a?(d.pageX=c.left+c.width/2,d.pageY=c.top+c.height/2):(d.pageX=c.right,d.pageY=c.bottom);d.target=d.currentTarget=b;d.preventDefault=d.stopPropagation=function(){};O(d,a);return h};h.enableDragging=function(a){return null!==a&&void 0!==a?(s.drag=a,h):s.drag};h.enableResizing=function(a){return null!==a&&void 0!==
a?(s.resize=a,h):s.resize};h.enableGesturing=function(a){return null!==a&&void 0!==a?(s.gesture=a,h):s.gesture};h.eventTypes="interactresizestart interactresizemove interactresizeend interactdragstart interactdragmove interactdragend interactgesturestart interactgesturemove interactgestureend".split(" ");h.debug=function(){return{target:e,dragging:q,resizing:r,gesturing:u,prevX:y,prevY:z,x0:F,y0:G,Interactable:Q,interactables:l,dropzones:p,mouseIsDown:A,supportsTouch:E,defaultActionChecker:U,dragMove:Z,
resizeMove:M,gestureMove:$,mouseUp:N,mouseDown:O,mouseHover:aa,log:function(){v.log("target         :  "+e);v.log("prevX, prevY   :  "+y,z);v.log("x0, y0         :  "+F,G);v.log("supportsTouch  :  "+E);v.log("mouseIsDown    :  "+A);v.log("dragging       :  "+q);v.log("resizing       :  "+r);v.log("gesturing      :  "+u)}}};h.margin=function(a){return"number"===typeof a?(L=a,h):L};h.styleCursor=function(a){if(null!==a&&void 0!==a){B=a;if(!B)for(a=0;a<l.length;a++)l[a]._element.style.cursor="";return h}return B};
h.enableAutoScroll=function(a){return null!==a&&void 0!==a?(c.isEnabled=a,h):c.isEnabled};i.add(w,T,N);i.add(w,J,function(a){A&&(H&&e)&&(ba(e._element,C[H].className),C[H].moveListener.call(this,a))});i.add(w,"touchcancel",N);i.add(ea,"blur",N);i.add(w,"DOMContentLoaded",function(){c.addEdges()});i.add(w,"interactresizestart",c.showEdges);i.add(w,"interactdragstart",c.showEdges);i.add(w,"interactresizeend",c.hideEdges);i.add(w,"interactdragend",c.hideEdges);f.interact=h})(window);
